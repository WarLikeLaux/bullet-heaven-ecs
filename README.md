# üéÆ Bullet Heaven (ECS)

<div align="center">

![Status](https://img.shields.io/badge/status-in_development-orange?style=flat-square)
[![TypeScript](https://img.shields.io/badge/typescript-%23007ACC.svg?style=flat-square&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Three.js](https://img.shields.io/badge/three.js-black?style=flat-square&logo=three.js&logoColor=white)](https://threejs.org/)
[![Vite](https://img.shields.io/badge/vite-%23646CFF.svg?style=flat-square&logo=vite&logoColor=white)](https://vitejs.dev/)
[![pnpm](https://img.shields.io/badge/pnpm-%234a4a4a.svg?style=flat-square&logo=pnpm&logoColor=f69220)](https://pnpm.io/)
[![Vitest](https://img.shields.io/badge/vitest-%236E9F18.svg?style=flat-square&logo=vitest&logoColor=white)](https://vitest.dev/)
[![ESLint](https://img.shields.io/badge/eslint-%234B32C3.svg?style=flat-square&logo=eslint&logoColor=white)](https://eslint.org/)
[![Prettier](https://img.shields.io/badge/prettier-%23F7B93E.svg?style=flat-square&logo=prettier&logoColor=black)](https://prettier.io/)

</div>

**–ß–∏—Å—Ç—ã–π TypeScript + Three.js + ECS –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

_(–ù–∏–∫–∞–∫–∏—Ö React-–æ–±–µ—Ä—Ç–æ–∫, Unity –∏–ª–∏ Godot. –¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π –∫–æ–¥, –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.)_

---

## üöÄ –û–±–∑–æ—Ä

–ò–Ω–∂–µ–Ω–µ—Ä–Ω–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –≤ –∂–∞–Ω—Ä–µ **Bullet Hell / Survivor-like**.

–ú—ã –Ω–µ "–Ω–∞–∫–ª–∏–∫–∏–≤–∞–µ–º" –∏–≥—Ä—É –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ. –ú—ã –ø–∏—à–µ–º –µ—ë –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É. –≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≥–æ, –∫–∞–∫ backend-–ø–æ–¥—Ö–æ–¥ (—Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é, ECS) —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ.

### –ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä—É—Ç–æ?

–î–ª—è **PHP Full Stack (Backend Focus)** —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ —ç—Ç–æ –∏–¥–µ–∞–ª—å–Ω—ã–π –∫–µ–π—Å:

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã:** –Ω–µ –ª–∞–ø—à–∞ –∏–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤, –∞ —Å—Ç—Ä–æ–≥–∏–π ECS-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫. 5000+ —Å—É—â–Ω–æ—Å—Ç–µ–π, 60 FPS.
2. **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è:** TypeScript –Ω–∞ —Å—Ç–µ—Ä–æ–∏–¥–∞—Ö - –¥–∂–µ–Ω–µ—Ä–∏–∫–∏, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∑–∞—â–∏—Ç–∞ –æ—Ç –≤—ã—Å—Ç—Ä–µ–ª–∞ –≤ –Ω–æ–≥—É. –ö–∞–∫ PHP 8+, –Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –º—ã —Å–∞–º–∏ —É–ø—Ä–∞–≤–ª—è–µ–º –ø–∞–º—è—Ç—å—é (object pooling) –∏ —Ü–∏–∫–ª–æ–º —Ä–µ–Ω–¥–µ—Ä–∞. –ù–∏–∫–∞–∫–æ–≥–æ –æ–≤–µ—Ä—Ö–µ–¥–∞.
4. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:** –Ω–µ—Ç "—á–µ—Ä–Ω—ã—Ö —è—â–∏–∫–æ–≤". –ö–∞–∂–¥—ã–π –∫–∞–¥—Ä –ø—Ä–æ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —è–≤–Ω–æ.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Runtime:** Vanilla TypeScript (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –¥–ª—è –ª–æ–≥–∏–∫–∏).
- **Renderer:** [Three.js](https://threejs.org/) (WebGL).
- **Architecture:** [Miniplex](https://github.com/hmans/miniplex) (ECS - Entity Component System).
- **Bundler:** [Vite](https://vitejs.dev/) (–±—ã—Å—Ç—Ä—ã–π HMR –∏ —Å–±–æ—Ä–∫–∞).
- **DX:** ESLint, Prettier, Vitest.
- **Platform:** Web & Yandex.Games SDK.

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: ECS

–ú—ã –æ—Ç–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç –û–û–ü-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (`class Bullet extends GameObject`). –¢–æ–ª—å–∫–æ **Data-Oriented Design**.

- **Entities (–°—É—â–Ω–æ—Å—Ç–∏):** –ø—Ä–æ—Å—Ç–æ ID.
- **Components (–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã):** –¥–∞–Ω–Ω—ã–µ (–∫–∞–∫ —Å—Ç–æ–ª–±—Ü—ã –≤ –ë–î).
- **Systems (–°–∏—Å—Ç–µ–º—ã):** –ª–æ–≥–∏–∫–∞ (–∫–∞–∫ SQL-–∑–∞–ø—Ä–æ—Å—ã –∏–ª–∏ —Å–µ—Ä–≤–∏—Å—ã).

–°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã –ø–æ—Ö–æ–∂–∞ –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏:

```typescript
const moving = world.with('position', 'velocity');

for (const entity of moving) {
  entity.position.add(entity.velocity);
}
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
pnpm install
pnpm dev
```

## üë®‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

| –ö–æ–º–∞–Ω–¥–∞              | –û–ø–∏—Å–∞–Ω–∏–µ                  |
| -------------------- | ------------------------- |
| `pnpm dev`           | –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞        |
| `pnpm check`         | –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞   |
| `pnpm test`          | –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤             |
| `pnpm test:watch`    | –¢–µ—Å—Ç—ã –≤ watch-—Ä–µ–∂–∏–º–µ      |
| `pnpm test:coverage` | –û—Ç—á–µ—Ç –æ –ø–æ–∫—Ä—ã—Ç–∏–∏          |
| `pnpm lint`          | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º         |
| `pnpm lint:fix`      | –ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–Ω—Ç–µ—Ä–æ–º  |
| `pnpm format`        | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞       |
| `pnpm format:check`  | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è   |
| `pnpm typecheck`     | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript |
| `pnpm build`         | –ü—Ä–æ–¥–∞–∫—à–Ω-—Å–±–æ—Ä–∫–∞           |
| `pnpm h`             | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥        |

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `src/core/` - ECS —è–¥—Ä–æ: —Å—É—â–Ω–æ—Å—Ç–∏, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å–∏—Å—Ç–µ–º—ã.
- `src/main.ts` - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª.
- `tests/` - —Ç–µ—Å—Ç—ã —Å–∏—Å—Ç–µ–º.
- `docs/` - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è.
- `.agent/` - –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è AI-–ø–æ–º–æ—â–Ω–∏–∫–∞.

---

_–ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω —Ç–∞–∫, —á—Ç–æ–±—ã –µ–≥–æ –±—ã–ª–æ –ø—Ä–∏—è—Ç–Ω–æ —á–∏—Ç–∞—Ç—å –±—ç–∫–µ–Ω–¥–µ—Ä—É. –ß–∏—Å—Ç–æ, —Å—Ç—Ä–æ–≥–æ, –±—ã—Å—Ç—Ä–æ._
